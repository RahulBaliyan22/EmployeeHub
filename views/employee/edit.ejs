<%- include("../partials/header") %>
<%- include("../partials/navbar") %>

<div class="bg-warning">
  <h6 class="ms-2">Employee Edit</h6>
</div>
<div class="container mt-5">
  <h2 class="text-center mb-4">Edit Employee</h2>
  
  <form action="/employee/<%= employee._id %>?_method=PATCH" method="POST" enctype="multipart/form-data" class="needs-validation" novalidate> 
    <div class="form-group m-3 d-flex justify-content-center align-items-center">
      <label for="n" class="me-3">Name:</label>
      <input type="text" id="n" name="name" class="form-control w-50" placeholder="Enter Employee Name" value="<%= employee.name %>" required>
    </div>

    <div class="form-group m-3 d-flex justify-content-center align-items-center">
      <label for="E" class="me-3">Email:</label>
      <input type="email" id="E" name="email" class="form-control w-50" placeholder="Enter Employee Email" value="<%= employee.email %>" required>
    </div>

    <div class="form-group m-3 d-flex justify-content-center align-items-center">
      <label for="M" class="me-3">Mobile No.:</label>
      <input type="tel" id="M" name="mobile" class="form-control w-50" placeholder="Enter Mobile Number" value="<%= employee.mobile %>" required>
    </div>

    <div class="form-group m-3 d-flex justify-content-center align-items-center">
      <label for="d" class="me-3">Designation:</label>
      <select name="designation" id="d" class="form-control w-50" required>
        <option value="HR" <%= employee.designation === 'HR' ? 'selected' : '' %>>HR</option>
        <option value="Manager" <%= employee.designation === 'Manager' ? 'selected' : '' %>>Manager</option>
        <option value="Sales" <%= employee.designation === 'Sales' ? 'selected' : '' %>>Sales</option>
      </select>
    </div>

    <div class="form-group m-3 d-flex justify-content-center align-items-center">
      <span class="me-3">Gender:</span>
      <label for="male" class="me-1">Male</label>
      <input type="radio" id="male" name="gender" value="Male" <%= employee.gender === 'Male' ? 'checked' : '' %> required>
      <label for="female" class="me-1 ms-3">Female</label>
      <input type="radio" id="female" name="gender" value="Female" <%= employee.gender === 'Female' ? 'checked' : '' %>>
    </div>

    <div class="form-group m-3 d-flex justify-content-center align-items-center">
      <span class="me-3">Course:</span>
      <label class="me-3">
        <input type="checkbox" name="course" value="MCA" <%= employee.course.includes('MCA') ? 'checked' : '' %>> MCA
      </label>
      <label class="me-3">
        <input type="checkbox" name="course" value="BCA" <%= employee.course.includes('BCA') ? 'checked' : '' %>> BCA
      </label>
      <label class="me-3">
        <input type="checkbox" name="course" value="BSC" <%= employee.course.includes('BSC') ? 'checked' : '' %>> BSC
      </label>
    </div>

    <div class="form-group m-3 d-flex justify-content-center align-items-center">
      <label for="I" class="me-3">Img Upload:</label>
      <input type="file" id="I" name="image" class="form-control w-50" accept=".jpg, .jpeg, .png" value = "<%=employee.image%>">
      <% if (employee.image) { %>
        <img src="<%= employee.image %>" alt="Employee Image" width="50" height="50" class="ms-3">
      <% } %>
    </div>

    <div class="form-group text-center mt-4">
      <button type="submit" class="btn btn-primary">Update</button>
    </div>
  </form>
</div>

<%- include("../partials/footer") %>
